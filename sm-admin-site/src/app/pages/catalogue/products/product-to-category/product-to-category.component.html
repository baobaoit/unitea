<!-- <ngx-back-button></ngx-back-button>
<nb-card size="small" class="page-card pick-list">
  <div class="selector-wrap">
    <div class="selector-element">
      <nb-select *ngIf="categories.length" placeholder="{{ 'COMPONENTS.CATEGORY' | translate}}"
                 outline
                 shape="rectangle">
        <nb-option *ngFor="let category of categories" [value]="category.code" (click)="selectGroup(category.id)">
          {{ category.code }}
        </nb-option>
      </nb-select>
    </div>
  </div>

  <p-pickList sourceHeader="Available"
              targetHeader="Selected"
              dragdrop="true"
              [responsive]="true"
              [source]="availableList"
              [target]="selectedList"
              sourceFilterPlaceholder="Search"
              targetFilterPlaceholder="Search"
              [showSourceControls]="false"
              [showTargetControls]="false"
              [disabled]="!selectedCategory"
              (onMoveToTarget)="moveEvent($event, 'toTarget')"
              (onMoveToSource)="moveEvent($event, 'toSource')"
              (onMoveAllToTarget)="moveEvent($event, 'allToTarget')"
              (onMoveAllToSource)="moveEvent($event, 'allToSource')"
              filterBy="code">
    <ng-template let-item pTemplate="item">
      <div class="ui-helper-clearfix item-picklist">
        <div>{{item.id}}</div>
        <div>{{item.description.name}}</div>
      </div>
    </ng-template>
  </p-pickList>
</nb-card> -->


<!-- <nb-card class="page-card inner_pages">
  <nb-card-body [nbSpinner]="loading" nbSpinnerSize="large" nbSpinnerStatus="primary" class="productToCategory">
    <div class="inner_pages_legacy">
      <nb-card-header class="main_header">
        <h1 class="page_title">Category</h1>
        <div class="content_spacing_empty"></div>

      </nb-card-header>

      <form class="form-inline filter_section">
        <div class="filter_left_section">
          <ngx-back-button></ngx-back-button>
        </div>
        <div class="filter_right_section">
          <nb-select *ngIf="categories.length" placeholder="{{ 'COMPONENTS.CATEGORY' | translate}}" outline shape="rectangle">
            <nb-option *ngFor="let category of categories" [value]="category.code" (click)="selectGroup(category.id)">
              {{ category.code }}
            </nb-option>
          </nb-select>

        </div>

      </form>

    </div>
    <p-pickList sourceHeader="Available" targetHeader="Selected" dragdrop="true" [responsive]="true" [source]="availableList"
      [target]="selectedList" sourceFilterPlaceholder="Search" targetFilterPlaceholder="Search" [showSourceControls]="false"
      [showTargetControls]="false" [disabled]="!selectedCategory" (onMoveToTarget)="moveEvent($event, 'toTarget')"
      (onMoveToSource)="moveEvent($event, 'toSource')" (onMoveAllToTarget)="moveEvent($event, 'allToTarget')"
      (onMoveAllToSource)="moveEvent($event, 'allToSource')" filterBy="code">
      <ng-template let-item pTemplate="item">
        <div class="ui-helper-clearfix item-picklist">
          <div>{{item.id}}</div>
          <div>{{item.description.name}}</div>
        </div>
      </ng-template>
    </p-pickList>
  </nb-card-body>
</nb-card> -->

<div class="inner_pages inventory_create_page">

  <nb-card-header class="main_header">
    <h1 class="page_title">Category</h1>

    <div class="content_spacing back_button">
      <ngx-back-button></ngx-back-button>
    </div>
    <div class="content_spacing categries">
      <nb-select *ngIf="categories.length" placeholder="{{ 'COMPONENTS.CATEGORY' | translate}}" outline shape="rectangle">
        <nb-option *ngFor="let category of categories" [value]="category.code" (click)="selectGroup(category.id)">
          {{ category.code }}
        </nb-option>
      </nb-select>
    </div>
  </nb-card-header>
  <div [nbSpinner]="loader" nbSpinnerSize="large" nbSpinnerStatus="primary">

    <nb-card class="nb-card inline-form-card">
      <nb-card-body class="nb-card-body">
        <!-- <p-pickList sourceHeader="Available" targetHeader="Selected" dragdrop="true" [responsive]="true" [source]="availableList"
          [target]="selectedList" sourceFilterPlaceholder="Search" targetFilterPlaceholder="Search"
          [showSourceControls]="false" [showTargetControls]="false" [disabled]="!selectedCategory" (onMoveToTarget)="moveEvent($event, 'toTarget')"
          (onMoveToSource)="moveEvent($event, 'toSource')" (onMoveAllToTarget)="moveEvent($event, 'allToTarget')"
          (onMoveAllToSource)="moveEvent($event, 'allToSource')" filterBy="code">
          <ng-template let-item pTemplate="item">
            <div class="ui-helper-clearfix item-picklist">
              <div>{{item.id}} - {{item.description.name}} </div> -->
        <!-- <div>{{item.description.name}}</div> -->
        <!-- </div>
          </ng-template>
        </p-pickList> -->
        <input type="text" [disabled]="!selectedCategory" class="form-control inputText" [(ngModel)]="availableName" (ngModelChange)="onFilterProduct($event)" placeholder="{{ 'Search...' | translate }}" />
        <p-pickList [source]="availableList" [target]="selectedList" sourceHeader="Available" targetHeader="Selected"
          dragdrop="true" [responsive]="true" [sourceStyle]="{'height':'500px'}" [targetStyle]="{'height':'500px'}"
          filterBy="name" (onMoveToTarget)="moveEvent($event, 'toTarget')" (onMoveToSource)="moveEvent($event, 'toSource')"
          (onMoveAllToTarget)="moveEvent($event, 'allToTarget')" (onMoveAllToSource)="moveEvent($event, 'allToSource')"
          sourceFilterPlaceholder="Search" targetFilterPlaceholder="Search" [showSourceControls]="false"
          [showTargetControls]="false" (onSourceFilter)="onSourceFilter($event)">
          <ng-template let-item pTemplate="item">
            <div class="product-item">
              <div class="image-container">
                <img src="{{item.image.imageUrl}}" alt="name" class="product-image" />
              </div>
              <div class="product-list-detail">
                <div class="p-mb-2">{{item.description.name}}</div>
                <!-- <i class="pi pi-tag product-category-icon"></i> -->
                <span class="product-category" [innerHTML]="item.description.description"></span>

              </div>
              <div class="product-list-action">
                <div class="p-mb-3">{{item.finalPrice}}</div>
                <!-- <span [class]="'product-badge status-' + product.inventoryStatus.toLowerCase()">{{product.inventoryStatus}}</span> -->
              </div>
            </div>
          </ng-template>
        </p-pickList>

      </nb-card-body>
    </nb-card>
  </div>
</div>